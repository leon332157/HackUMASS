<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Welcome to UMass Dorms</title>
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="https://www.umass.edu/sites/default/files/favicons/favicon-32x32.png"
    />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.1/font/bootstrap-icons.css">
    <link href="/static/css/main.css" rel="stylesheet" />
  </head>
  <body id="page-top">
    <!-- Navigation-->
    <nav class="navbar navbar-expand-lg fixed-top" id="mainNav">
      <div class="container">
        <a class="navbar-brand display-6 fw-bold" href="#page-top"
          >UMass Dorms</a
        >
      </div>
    </nav>
    <!-- Header-->
    <header class="text-white" id="main-background">
      <div class="container px-4 text-center" id="main-text-container">
        <h1 class="display-1">
          Welcome to
          <h1 class="title fw-bolder display-1">UMass Dorms</h1>
        </h1>
        <p class="lead">Need help picking a residential area?</p>
        <!--a class="btn btn-lg btn-light" href="#about" style="background-color:rgb(136, 28, 28); color:white; ">Take a Short Quiz</a-->
        <button
          type="button"
          class="btn btn-primary"
          data-bs-toggle="modal"
          data-bs-target="#exampleModal"
          style="
            background-color: rgb(136, 28, 28);
            color: white;
            border-color: white;
          "
        >
          Take a Short Quiz
        </button>
        
        <div
          class="modal fade"
          id="exampleModal"
          tabindex="-1"
          aria-labelledby="exampleModalLabel"
          aria-hidden="true"
        >
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5
                  class="modal-title"
                  id="exampleModalLabel"
                  style="color: black"
                >
                  Residential Area Quiz
                </h5>
                <button
                  type="button"
                  class="btn-close"
                  data-bs-dismiss="modal"
                  aria-label="Close"
                ></button>
              </div>
              <div
                id="quiz-body"
                class="modal-body"
                style="color: black; text-align: left"
              >
                <p>1. Do you mind if your dorm is noisy and loud?</p>
                <select class="form-select" aria-label="Default select example">
                  <option selected disabled>Choose your answer</option>
                  <option value="1">Yes</option>
                  <option value="2">No</option>
                  <option value="3">Sometimes</option>
                </select>
                <p class="question">2. Do you like to party?</p>
                <select class="form-select" aria-label="Default select example">
                  <option selected disabled>Choose your answer</option>
                  <option value="1">Yes</option>
                  <option value="2">No</option>
                  <option value="3">Sometimes</option>
                  <option value="4">With my friends</option>
                </select>
                <p class="question">
                  3. Do you plan on staying in your dorm a lot to do homework
                  and study?
                </p>
                <select class="form-select" aria-label="Default select example">
                  <option selected disabled>Choose your answer</option>
                  <option value="1">Yes</option>
                  <option value="2">No</option>
                  <option value="3">Sometimes</option>
                </select>
                <p class="question">4. Do you want a walk-in closet?</p>
                <select class="form-select" aria-label="Default select example">
                  <option selected disabled>Choose your answer</option>
                  <option value="1">Yes</option>
                  <option value="2">No</option>
                  <option value="3">I don't care</option>
                </select>
                <p class="question">
                  5. Are you majoring in Computer Science, Informatics, or
                  Engineering?
                </p>
                <select class="form-select" aria-label="Default select example">
                  <option selected disabled>Choose your answer</option>
                  <option value="1">Yes</option>
                  <option value="2">No</option>
                  <option value="3">Maybe</option>
                </select>
              </div>
              <script>
                function getQuizResult() {
                  var result = 0;
                  var dormResult = "";
                  var questions =
                    document.getElementsByClassName("form-select");
                  const YES = "1";
                  const NO = "2";
                  const SOMETIMES = "3";
                  if (questions[0].value == NO) {
                    result += 2;
                  } else if (questions[0].value == SOMETIMES) {
                    result += 1;
                  } else if (questions[0].value == 0) {
                    alert("Invalid selection for question 1");
                    return;
                  }
                  if (questions[1].value == YES) {
                    result += 2;
                  } else if (
                    questions[1].value == NO ||
                    questions[1].value == SOMETIMES ||
                    questions[1].value == 4
                  ) {
                    result += 1;
                  } else {
                    alert("Invalid selection for question 2");
                    return;
                  }
                  if (questions[2].value == NO) {
                    result += 2;
                  } else if (questions[2].value == SOMETIMES) {
                    result += 1;
                  } else if (questions[2].value == 0) {
                    alert("Invalid selection for question 3");
                    return;
                  }
                  if (questions[3].value == NO) {
                    result += 2;
                  } else if (
                    questions[3].value == YES ||
                    questions[3].value == SOMETIMES
                  ) {
                    result += 1;
                  } else {
                    alert("Invalid selection for question 4");
                    return;
                  }
                  if (questions[4].value == NO) {
                    result += 2;
                  } else if (questions[4].value == SOMETIMES) {
                    result += 1;
                  } else if (questions[4].value == 0) {
                    alert("Invalid selection for question 5");
                    return;
                  }

                  if (result >= 8) {
                    dormResult = "Southwest";
                  } else if (result >= 6) {
                    dormResult = "Central";
                  } else if (result >= 4) {
                    dormResult = "Orchard Hill";
                  } else {
                    dormResult = "Northeast";
                  }
                  console.log(result);
                  console.log(dormResult);
                  alert("Your dorm result is " + dormResult);
                  return result;
                }
              </script>

              <div class="modal-footer">
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-bs-dismiss="modal"
                >
                  Close
                </button>
                <button
                  type="button"
                  class="btn btn-primary"
                  style="
                    background-color: rgba(136, 28, 28, 0.9);
                    border-color: rgba(136, 28, 28, 0.9);
                  "
                  onclick="getQuizResult()"
                >
                  Submit
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class = "text-center" style="margin-top: 110px;">
          <i class="bi bi-arrow-down fs-2 mb-3" >Scroll to Browse Residential Areas</i>
        </div>
      </div>
    </header>
    <!-- Area Selection -->
    <section id="dorm-list" class="fade-in">
      <div class="row">
        {% for dorm in dormList[:3] %}
        <div class="col text-center">
          <a href="dorm/{{dorm}}">
            <img
              class="area-pictures"
              alt="{{dorm}}"
              src="/static/imgs/{{dorm}}.jpeg"
          /></a>
          <h3 class="display-6 area-names">{{dormDict[dorm]}}</h3>
        </div>
        {% endfor %}
      </div>
      <div class="row">
        {% for dorm in dormList[3:] %}
        <div class="col text-center">
          <a href="dorm/{{dorm}}"
            ><img
              class="area-pictures"
              alt="{{dorm}}"
              src="/static/imgs/{{dorm}}.jpeg"
          /></a>
          <h3 class="display-6 area-names">{{dormDict[dorm]}}</h3>
        </div>
        {% endfor %}
      </div>
    </section>
    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Core theme JS-->
    <script>
      window.addEventListener("scroll", (event) => {
        let scrollY = this.scrollY;
        let scrollX = this.scrollX;
        if (scrollY > 80) {
          document.querySelectorAll(".fade-in").forEach((elem)=>{elem.classList.add("active")});
          //document.querySelectorAll(".fade-in").forEach((elem)=>{elem.classList.remove("fade-in")});
        } else {
          document.querySelectorAll(".fade-in").forEach((elem)=>{elem.classList.remove("active")});
          //document.querySelectorAll(".active").forEach((elem)=>{elem.classList.add("fade-in")});
        }
      });
    </script>

    <footer>
      <p class="text-center text-black">Made with ❤️ @ HackUMass 2022</p>
    </footer>
  </body>
</html>
